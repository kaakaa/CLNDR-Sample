<html>
	<head>
		<title>FileIO Sample</title>
	</head>
	<body>
		<section id="main">
			<p>ドラッグアンドドロップで１つから複数のファイルのプロパティを取得します。</p>
			<div id="drop" style="width:700px; height:150px; padding:10px; border:3px solid" ondragover="onDragOver(event)" ondrop="onDrop(event)" >
				ここにドロップしたファイルのプロパティを読み込みます。
			</div>
			<p>ファイルプロパティ表示</p>
			<div id="disp"></div>
		</section>
		<div>
			<a href="http://google.com">google</a>
		</div>
		<script type="text/javascript">
			if(window.File) {
				window.alert("File APIが実装されてます。");
				document.getElementById("drop").addEventListener("drop", onDrop, false);
			} else {
				window.alert("本ブラウザではFile APIが使えません");
			}

			function onDrop(event) {
				console.log("start");
				var files = event.dataTransfer.files;
				var text = event.dataTransfer.getData('text');
				console.log(text);
				var disp = document.getElementById("disp");
				disp.innerHTML ="";
				for(var i=0; i< files.length; i++){
					var f = files[i];
					disp.innerHTML += "ファイル名:" + f.name + "ファイルの型:" + f.type + "ファイルサイズ:" + f.size + "B" + "<br />";
				}
				event.preventDefault();
			}		
			function onDragOver(event) {
				event.preventDefault();
			}
		</script>
	</body>
</html>
